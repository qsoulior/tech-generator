// Code generated by ogen, DO NOT EDIT.

package api

import (
	"net/http"
	"net/url"

	"github.com/go-faster/errors"
	"github.com/ogen-go/ogen/conv"
	"github.com/ogen-go/ogen/middleware"
	"github.com/ogen-go/ogen/ogenerrors"
	"github.com/ogen-go/ogen/uri"
	"github.com/ogen-go/ogen/validate"
)

// ProjectCreateParams is parameters of projectCreate operation.
type ProjectCreateParams struct {
	// ID пользователя.
	XUserID int64
}

func unpackProjectCreateParams(packed middleware.Parameters) (params ProjectCreateParams) {
	{
		key := middleware.ParameterKey{
			Name: "X-User-Id",
			In:   "header",
		}
		params.XUserID = packed[key].(int64)
	}
	return params
}

func decodeProjectCreateParams(args [0]string, argsEscaped bool, r *http.Request) (params ProjectCreateParams, _ error) {
	h := uri.NewHeaderDecoder(r.Header)
	// Decode header: X-User-Id.
	if err := func() error {
		cfg := uri.HeaderParameterDecodingConfig{
			Name:    "X-User-Id",
			Explode: false,
		}
		if err := h.HasParam(cfg); err == nil {
			if err := h.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.XUserID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "X-User-Id",
			In:   "header",
			Err:  err,
		}
	}
	return params, nil
}

// ProjectDeleteByIDParams is parameters of projectDeleteByID operation.
type ProjectDeleteByIDParams struct {
	// ID пользователя.
	XUserID int64
	// ID проекта.
	ProjectID int64
}

func unpackProjectDeleteByIDParams(packed middleware.Parameters) (params ProjectDeleteByIDParams) {
	{
		key := middleware.ParameterKey{
			Name: "X-User-Id",
			In:   "header",
		}
		params.XUserID = packed[key].(int64)
	}
	{
		key := middleware.ParameterKey{
			Name: "projectID",
			In:   "path",
		}
		params.ProjectID = packed[key].(int64)
	}
	return params
}

func decodeProjectDeleteByIDParams(args [1]string, argsEscaped bool, r *http.Request) (params ProjectDeleteByIDParams, _ error) {
	h := uri.NewHeaderDecoder(r.Header)
	// Decode header: X-User-Id.
	if err := func() error {
		cfg := uri.HeaderParameterDecodingConfig{
			Name:    "X-User-Id",
			Explode: false,
		}
		if err := h.HasParam(cfg); err == nil {
			if err := h.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.XUserID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "X-User-Id",
			In:   "header",
			Err:  err,
		}
	}
	// Decode path: projectID.
	if err := func() error {
		param := args[0]
		if argsEscaped {
			unescaped, err := url.PathUnescape(args[0])
			if err != nil {
				return errors.Wrap(err, "unescape path")
			}
			param = unescaped
		}
		if len(param) > 0 {
			d := uri.NewPathDecoder(uri.PathDecoderConfig{
				Param:   "projectID",
				Value:   param,
				Style:   uri.PathStyleSimple,
				Explode: false,
			})

			if err := func() error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.ProjectID = c
				return nil
			}(); err != nil {
				return err
			}
		} else {
			return validate.ErrFieldRequired
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "projectID",
			In:   "path",
			Err:  err,
		}
	}
	return params, nil
}

// ProjectListParams is parameters of projectList operation.
type ProjectListParams struct {
	// ID пользователя.
	XUserID int64
	// Номер страницы.
	Page int64
	// Количество записей на странице.
	Size int64
	// Сортировка списка.
	Sorting OptSorting `json:",omitempty,omitzero"`
	// Название проекта.
	ProjectName OptString `json:",omitempty,omitzero"`
}

func unpackProjectListParams(packed middleware.Parameters) (params ProjectListParams) {
	{
		key := middleware.ParameterKey{
			Name: "X-User-Id",
			In:   "header",
		}
		params.XUserID = packed[key].(int64)
	}
	{
		key := middleware.ParameterKey{
			Name: "page",
			In:   "query",
		}
		params.Page = packed[key].(int64)
	}
	{
		key := middleware.ParameterKey{
			Name: "size",
			In:   "query",
		}
		params.Size = packed[key].(int64)
	}
	{
		key := middleware.ParameterKey{
			Name: "sorting",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.Sorting = v.(OptSorting)
		}
	}
	{
		key := middleware.ParameterKey{
			Name: "projectName",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.ProjectName = v.(OptString)
		}
	}
	return params
}

func decodeProjectListParams(args [0]string, argsEscaped bool, r *http.Request) (params ProjectListParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	h := uri.NewHeaderDecoder(r.Header)
	// Decode header: X-User-Id.
	if err := func() error {
		cfg := uri.HeaderParameterDecodingConfig{
			Name:    "X-User-Id",
			Explode: false,
		}
		if err := h.HasParam(cfg); err == nil {
			if err := h.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.XUserID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "X-User-Id",
			In:   "header",
			Err:  err,
		}
	}
	// Decode query: page.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "page",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.Page = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "page",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: size.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "size",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.Size = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "size",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: sorting.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "sorting",
			Style:   uri.QueryStyleForm,
			Explode: true,
			Fields:  []uri.QueryParameterObjectField{{Name: "attribute", Required: true}, {Name: "direction", Required: true}},
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotSortingVal Sorting
				if err := func() error {
					return paramsDotSortingVal.DecodeURI(d)
				}(); err != nil {
					return err
				}
				params.Sorting.SetTo(paramsDotSortingVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.Sorting.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "sorting",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: projectName.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "projectName",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotProjectNameVal string
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotProjectNameVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.ProjectName.SetTo(paramsDotProjectNameVal)
				return nil
			}); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "projectName",
			In:   "query",
			Err:  err,
		}
	}
	return params, nil
}

// TaskCreateParams is parameters of taskCreate operation.
type TaskCreateParams struct {
	// ID пользователя.
	XUserID int64
}

func unpackTaskCreateParams(packed middleware.Parameters) (params TaskCreateParams) {
	{
		key := middleware.ParameterKey{
			Name: "X-User-Id",
			In:   "header",
		}
		params.XUserID = packed[key].(int64)
	}
	return params
}

func decodeTaskCreateParams(args [0]string, argsEscaped bool, r *http.Request) (params TaskCreateParams, _ error) {
	h := uri.NewHeaderDecoder(r.Header)
	// Decode header: X-User-Id.
	if err := func() error {
		cfg := uri.HeaderParameterDecodingConfig{
			Name:    "X-User-Id",
			Explode: false,
		}
		if err := h.HasParam(cfg); err == nil {
			if err := h.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.XUserID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "X-User-Id",
			In:   "header",
			Err:  err,
		}
	}
	return params, nil
}

// TaskGetByIDParams is parameters of taskGetByID operation.
type TaskGetByIDParams struct {
	// ID пользователя.
	XUserID int64
	// ID задачи.
	TaskID int64
}

func unpackTaskGetByIDParams(packed middleware.Parameters) (params TaskGetByIDParams) {
	{
		key := middleware.ParameterKey{
			Name: "X-User-Id",
			In:   "header",
		}
		params.XUserID = packed[key].(int64)
	}
	{
		key := middleware.ParameterKey{
			Name: "taskID",
			In:   "path",
		}
		params.TaskID = packed[key].(int64)
	}
	return params
}

func decodeTaskGetByIDParams(args [1]string, argsEscaped bool, r *http.Request) (params TaskGetByIDParams, _ error) {
	h := uri.NewHeaderDecoder(r.Header)
	// Decode header: X-User-Id.
	if err := func() error {
		cfg := uri.HeaderParameterDecodingConfig{
			Name:    "X-User-Id",
			Explode: false,
		}
		if err := h.HasParam(cfg); err == nil {
			if err := h.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.XUserID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "X-User-Id",
			In:   "header",
			Err:  err,
		}
	}
	// Decode path: taskID.
	if err := func() error {
		param := args[0]
		if argsEscaped {
			unescaped, err := url.PathUnescape(args[0])
			if err != nil {
				return errors.Wrap(err, "unescape path")
			}
			param = unescaped
		}
		if len(param) > 0 {
			d := uri.NewPathDecoder(uri.PathDecoderConfig{
				Param:   "taskID",
				Value:   param,
				Style:   uri.PathStyleSimple,
				Explode: false,
			})

			if err := func() error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.TaskID = c
				return nil
			}(); err != nil {
				return err
			}
		} else {
			return validate.ErrFieldRequired
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "taskID",
			In:   "path",
			Err:  err,
		}
	}
	return params, nil
}

// TaskListParams is parameters of taskList operation.
type TaskListParams struct {
	// ID пользователя.
	XUserID int64
	// Номер страницы.
	Page int64
	// Количество записей на странице.
	Size int64
	// Сортировка списка.
	Sorting OptSorting `json:",omitempty,omitzero"`
	// ID шаблона.
	TemplateID int64
	// ID создателя задачи.
	CreatorID OptInt64 `json:",omitempty,omitzero"`
}

func unpackTaskListParams(packed middleware.Parameters) (params TaskListParams) {
	{
		key := middleware.ParameterKey{
			Name: "X-User-Id",
			In:   "header",
		}
		params.XUserID = packed[key].(int64)
	}
	{
		key := middleware.ParameterKey{
			Name: "page",
			In:   "query",
		}
		params.Page = packed[key].(int64)
	}
	{
		key := middleware.ParameterKey{
			Name: "size",
			In:   "query",
		}
		params.Size = packed[key].(int64)
	}
	{
		key := middleware.ParameterKey{
			Name: "sorting",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.Sorting = v.(OptSorting)
		}
	}
	{
		key := middleware.ParameterKey{
			Name: "templateID",
			In:   "query",
		}
		params.TemplateID = packed[key].(int64)
	}
	{
		key := middleware.ParameterKey{
			Name: "creatorID",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.CreatorID = v.(OptInt64)
		}
	}
	return params
}

func decodeTaskListParams(args [0]string, argsEscaped bool, r *http.Request) (params TaskListParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	h := uri.NewHeaderDecoder(r.Header)
	// Decode header: X-User-Id.
	if err := func() error {
		cfg := uri.HeaderParameterDecodingConfig{
			Name:    "X-User-Id",
			Explode: false,
		}
		if err := h.HasParam(cfg); err == nil {
			if err := h.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.XUserID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "X-User-Id",
			In:   "header",
			Err:  err,
		}
	}
	// Decode query: page.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "page",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.Page = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "page",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: size.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "size",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.Size = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "size",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: sorting.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "sorting",
			Style:   uri.QueryStyleForm,
			Explode: true,
			Fields:  []uri.QueryParameterObjectField{{Name: "attribute", Required: true}, {Name: "direction", Required: true}},
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotSortingVal Sorting
				if err := func() error {
					return paramsDotSortingVal.DecodeURI(d)
				}(); err != nil {
					return err
				}
				params.Sorting.SetTo(paramsDotSortingVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.Sorting.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "sorting",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: templateID.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "templateID",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.TemplateID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "templateID",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: creatorID.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "creatorID",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotCreatorIDVal int64
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToInt64(val)
					if err != nil {
						return err
					}

					paramsDotCreatorIDVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.CreatorID.SetTo(paramsDotCreatorIDVal)
				return nil
			}); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "creatorID",
			In:   "query",
			Err:  err,
		}
	}
	return params, nil
}

// TemplateCreateParams is parameters of templateCreate operation.
type TemplateCreateParams struct {
	// ID пользователя.
	XUserID int64
}

func unpackTemplateCreateParams(packed middleware.Parameters) (params TemplateCreateParams) {
	{
		key := middleware.ParameterKey{
			Name: "X-User-Id",
			In:   "header",
		}
		params.XUserID = packed[key].(int64)
	}
	return params
}

func decodeTemplateCreateParams(args [0]string, argsEscaped bool, r *http.Request) (params TemplateCreateParams, _ error) {
	h := uri.NewHeaderDecoder(r.Header)
	// Decode header: X-User-Id.
	if err := func() error {
		cfg := uri.HeaderParameterDecodingConfig{
			Name:    "X-User-Id",
			Explode: false,
		}
		if err := h.HasParam(cfg); err == nil {
			if err := h.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.XUserID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "X-User-Id",
			In:   "header",
			Err:  err,
		}
	}
	return params, nil
}

// TemplateDeleteByIDParams is parameters of templateDeleteByID operation.
type TemplateDeleteByIDParams struct {
	// ID пользователя.
	XUserID int64
	// ID шаблона.
	TemplateID int64
}

func unpackTemplateDeleteByIDParams(packed middleware.Parameters) (params TemplateDeleteByIDParams) {
	{
		key := middleware.ParameterKey{
			Name: "X-User-Id",
			In:   "header",
		}
		params.XUserID = packed[key].(int64)
	}
	{
		key := middleware.ParameterKey{
			Name: "templateID",
			In:   "path",
		}
		params.TemplateID = packed[key].(int64)
	}
	return params
}

func decodeTemplateDeleteByIDParams(args [1]string, argsEscaped bool, r *http.Request) (params TemplateDeleteByIDParams, _ error) {
	h := uri.NewHeaderDecoder(r.Header)
	// Decode header: X-User-Id.
	if err := func() error {
		cfg := uri.HeaderParameterDecodingConfig{
			Name:    "X-User-Id",
			Explode: false,
		}
		if err := h.HasParam(cfg); err == nil {
			if err := h.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.XUserID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "X-User-Id",
			In:   "header",
			Err:  err,
		}
	}
	// Decode path: templateID.
	if err := func() error {
		param := args[0]
		if argsEscaped {
			unescaped, err := url.PathUnescape(args[0])
			if err != nil {
				return errors.Wrap(err, "unescape path")
			}
			param = unescaped
		}
		if len(param) > 0 {
			d := uri.NewPathDecoder(uri.PathDecoderConfig{
				Param:   "templateID",
				Value:   param,
				Style:   uri.PathStyleSimple,
				Explode: false,
			})

			if err := func() error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.TemplateID = c
				return nil
			}(); err != nil {
				return err
			}
		} else {
			return validate.ErrFieldRequired
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "templateID",
			In:   "path",
			Err:  err,
		}
	}
	return params, nil
}

// TemplateGetByIDParams is parameters of templateGetByID operation.
type TemplateGetByIDParams struct {
	// ID пользователя.
	XUserID int64
	// ID шаблона.
	TemplateID int64
}

func unpackTemplateGetByIDParams(packed middleware.Parameters) (params TemplateGetByIDParams) {
	{
		key := middleware.ParameterKey{
			Name: "X-User-Id",
			In:   "header",
		}
		params.XUserID = packed[key].(int64)
	}
	{
		key := middleware.ParameterKey{
			Name: "templateID",
			In:   "path",
		}
		params.TemplateID = packed[key].(int64)
	}
	return params
}

func decodeTemplateGetByIDParams(args [1]string, argsEscaped bool, r *http.Request) (params TemplateGetByIDParams, _ error) {
	h := uri.NewHeaderDecoder(r.Header)
	// Decode header: X-User-Id.
	if err := func() error {
		cfg := uri.HeaderParameterDecodingConfig{
			Name:    "X-User-Id",
			Explode: false,
		}
		if err := h.HasParam(cfg); err == nil {
			if err := h.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.XUserID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "X-User-Id",
			In:   "header",
			Err:  err,
		}
	}
	// Decode path: templateID.
	if err := func() error {
		param := args[0]
		if argsEscaped {
			unescaped, err := url.PathUnescape(args[0])
			if err != nil {
				return errors.Wrap(err, "unescape path")
			}
			param = unescaped
		}
		if len(param) > 0 {
			d := uri.NewPathDecoder(uri.PathDecoderConfig{
				Param:   "templateID",
				Value:   param,
				Style:   uri.PathStyleSimple,
				Explode: false,
			})

			if err := func() error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.TemplateID = c
				return nil
			}(); err != nil {
				return err
			}
		} else {
			return validate.ErrFieldRequired
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "templateID",
			In:   "path",
			Err:  err,
		}
	}
	return params, nil
}

// TemplateListParams is parameters of templateList operation.
type TemplateListParams struct {
	// ID пользователя.
	XUserID int64
	// ID проекта.
	ProjectID int64
	// Номер страницы.
	Page int64
	// Количество записей на странице.
	Size int64
	// Сортировка списка.
	Sorting OptSorting `json:",omitempty,omitzero"`
	// Название шаблона.
	TemplateName OptString `json:",omitempty,omitzero"`
}

func unpackTemplateListParams(packed middleware.Parameters) (params TemplateListParams) {
	{
		key := middleware.ParameterKey{
			Name: "X-User-Id",
			In:   "header",
		}
		params.XUserID = packed[key].(int64)
	}
	{
		key := middleware.ParameterKey{
			Name: "projectID",
			In:   "path",
		}
		params.ProjectID = packed[key].(int64)
	}
	{
		key := middleware.ParameterKey{
			Name: "page",
			In:   "query",
		}
		params.Page = packed[key].(int64)
	}
	{
		key := middleware.ParameterKey{
			Name: "size",
			In:   "query",
		}
		params.Size = packed[key].(int64)
	}
	{
		key := middleware.ParameterKey{
			Name: "sorting",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.Sorting = v.(OptSorting)
		}
	}
	{
		key := middleware.ParameterKey{
			Name: "templateName",
			In:   "query",
		}
		if v, ok := packed[key]; ok {
			params.TemplateName = v.(OptString)
		}
	}
	return params
}

func decodeTemplateListParams(args [1]string, argsEscaped bool, r *http.Request) (params TemplateListParams, _ error) {
	q := uri.NewQueryDecoder(r.URL.Query())
	h := uri.NewHeaderDecoder(r.Header)
	// Decode header: X-User-Id.
	if err := func() error {
		cfg := uri.HeaderParameterDecodingConfig{
			Name:    "X-User-Id",
			Explode: false,
		}
		if err := h.HasParam(cfg); err == nil {
			if err := h.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.XUserID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "X-User-Id",
			In:   "header",
			Err:  err,
		}
	}
	// Decode path: projectID.
	if err := func() error {
		param := args[0]
		if argsEscaped {
			unescaped, err := url.PathUnescape(args[0])
			if err != nil {
				return errors.Wrap(err, "unescape path")
			}
			param = unescaped
		}
		if len(param) > 0 {
			d := uri.NewPathDecoder(uri.PathDecoderConfig{
				Param:   "projectID",
				Value:   param,
				Style:   uri.PathStyleSimple,
				Explode: false,
			})

			if err := func() error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.ProjectID = c
				return nil
			}(); err != nil {
				return err
			}
		} else {
			return validate.ErrFieldRequired
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "projectID",
			In:   "path",
			Err:  err,
		}
	}
	// Decode query: page.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "page",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.Page = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "page",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: size.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "size",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.Size = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "size",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: sorting.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "sorting",
			Style:   uri.QueryStyleForm,
			Explode: true,
			Fields:  []uri.QueryParameterObjectField{{Name: "attribute", Required: true}, {Name: "direction", Required: true}},
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotSortingVal Sorting
				if err := func() error {
					return paramsDotSortingVal.DecodeURI(d)
				}(); err != nil {
					return err
				}
				params.Sorting.SetTo(paramsDotSortingVal)
				return nil
			}); err != nil {
				return err
			}
			if err := func() error {
				if value, ok := params.Sorting.Get(); ok {
					if err := func() error {
						if err := value.Validate(); err != nil {
							return err
						}
						return nil
					}(); err != nil {
						return err
					}
				}
				return nil
			}(); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "sorting",
			In:   "query",
			Err:  err,
		}
	}
	// Decode query: templateName.
	if err := func() error {
		cfg := uri.QueryParameterDecodingConfig{
			Name:    "templateName",
			Style:   uri.QueryStyleForm,
			Explode: true,
		}

		if err := q.HasParam(cfg); err == nil {
			if err := q.DecodeParam(cfg, func(d uri.Decoder) error {
				var paramsDotTemplateNameVal string
				if err := func() error {
					val, err := d.DecodeValue()
					if err != nil {
						return err
					}

					c, err := conv.ToString(val)
					if err != nil {
						return err
					}

					paramsDotTemplateNameVal = c
					return nil
				}(); err != nil {
					return err
				}
				params.TemplateName.SetTo(paramsDotTemplateNameVal)
				return nil
			}); err != nil {
				return err
			}
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "templateName",
			In:   "query",
			Err:  err,
		}
	}
	return params, nil
}

// UserGetByIDParams is parameters of userGetByID operation.
type UserGetByIDParams struct {
	// ID пользователя.
	XUserID int64
}

func unpackUserGetByIDParams(packed middleware.Parameters) (params UserGetByIDParams) {
	{
		key := middleware.ParameterKey{
			Name: "X-User-Id",
			In:   "header",
		}
		params.XUserID = packed[key].(int64)
	}
	return params
}

func decodeUserGetByIDParams(args [0]string, argsEscaped bool, r *http.Request) (params UserGetByIDParams, _ error) {
	h := uri.NewHeaderDecoder(r.Header)
	// Decode header: X-User-Id.
	if err := func() error {
		cfg := uri.HeaderParameterDecodingConfig{
			Name:    "X-User-Id",
			Explode: false,
		}
		if err := h.HasParam(cfg); err == nil {
			if err := h.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.XUserID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "X-User-Id",
			In:   "header",
			Err:  err,
		}
	}
	return params, nil
}

// VersionCreateParams is parameters of versionCreate operation.
type VersionCreateParams struct {
	// ID пользователя.
	XUserID int64
}

func unpackVersionCreateParams(packed middleware.Parameters) (params VersionCreateParams) {
	{
		key := middleware.ParameterKey{
			Name: "X-User-Id",
			In:   "header",
		}
		params.XUserID = packed[key].(int64)
	}
	return params
}

func decodeVersionCreateParams(args [0]string, argsEscaped bool, r *http.Request) (params VersionCreateParams, _ error) {
	h := uri.NewHeaderDecoder(r.Header)
	// Decode header: X-User-Id.
	if err := func() error {
		cfg := uri.HeaderParameterDecodingConfig{
			Name:    "X-User-Id",
			Explode: false,
		}
		if err := h.HasParam(cfg); err == nil {
			if err := h.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.XUserID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "X-User-Id",
			In:   "header",
			Err:  err,
		}
	}
	return params, nil
}

// VersionCreateFromParams is parameters of versionCreateFrom operation.
type VersionCreateFromParams struct {
	// ID пользователя.
	XUserID int64
}

func unpackVersionCreateFromParams(packed middleware.Parameters) (params VersionCreateFromParams) {
	{
		key := middleware.ParameterKey{
			Name: "X-User-Id",
			In:   "header",
		}
		params.XUserID = packed[key].(int64)
	}
	return params
}

func decodeVersionCreateFromParams(args [0]string, argsEscaped bool, r *http.Request) (params VersionCreateFromParams, _ error) {
	h := uri.NewHeaderDecoder(r.Header)
	// Decode header: X-User-Id.
	if err := func() error {
		cfg := uri.HeaderParameterDecodingConfig{
			Name:    "X-User-Id",
			Explode: false,
		}
		if err := h.HasParam(cfg); err == nil {
			if err := h.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.XUserID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "X-User-Id",
			In:   "header",
			Err:  err,
		}
	}
	return params, nil
}

// VersionListParams is parameters of versionList operation.
type VersionListParams struct {
	// ID пользователя.
	XUserID int64
	// ID шаблона.
	TemplateID int64
}

func unpackVersionListParams(packed middleware.Parameters) (params VersionListParams) {
	{
		key := middleware.ParameterKey{
			Name: "X-User-Id",
			In:   "header",
		}
		params.XUserID = packed[key].(int64)
	}
	{
		key := middleware.ParameterKey{
			Name: "templateID",
			In:   "path",
		}
		params.TemplateID = packed[key].(int64)
	}
	return params
}

func decodeVersionListParams(args [1]string, argsEscaped bool, r *http.Request) (params VersionListParams, _ error) {
	h := uri.NewHeaderDecoder(r.Header)
	// Decode header: X-User-Id.
	if err := func() error {
		cfg := uri.HeaderParameterDecodingConfig{
			Name:    "X-User-Id",
			Explode: false,
		}
		if err := h.HasParam(cfg); err == nil {
			if err := h.DecodeParam(cfg, func(d uri.Decoder) error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.XUserID = c
				return nil
			}); err != nil {
				return err
			}
		} else {
			return err
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "X-User-Id",
			In:   "header",
			Err:  err,
		}
	}
	// Decode path: templateID.
	if err := func() error {
		param := args[0]
		if argsEscaped {
			unescaped, err := url.PathUnescape(args[0])
			if err != nil {
				return errors.Wrap(err, "unescape path")
			}
			param = unescaped
		}
		if len(param) > 0 {
			d := uri.NewPathDecoder(uri.PathDecoderConfig{
				Param:   "templateID",
				Value:   param,
				Style:   uri.PathStyleSimple,
				Explode: false,
			})

			if err := func() error {
				val, err := d.DecodeValue()
				if err != nil {
					return err
				}

				c, err := conv.ToInt64(val)
				if err != nil {
					return err
				}

				params.TemplateID = c
				return nil
			}(); err != nil {
				return err
			}
		} else {
			return validate.ErrFieldRequired
		}
		return nil
	}(); err != nil {
		return params, &ogenerrors.DecodeParamError{
			Name: "templateID",
			In:   "path",
			Err:  err,
		}
	}
	return params, nil
}
